# ========================================
# APEX ARBITRAGE SYSTEM - CONFIGURATION
# ========================================
# 
# This is the universal configuration file for the entire APEX system.
# All JavaScript (Node.js) and Python components read from this file.
# Copy this file to .env and configure your settings.
#
# IMPORTANT: Never commit your .env file to version control!
# Keep all sensitive data (API keys, private keys) secure.
#
# ========================================
# EXECUTION MODE CONFIGURATION
# ========================================
# MODE options: LIVE, DEV, SIM
# LIVE: Executes real arbitrage transactions on-chain (PRODUCTION - USE WITH CAUTION)
# DEV: Runs all logic with real data but simulates transactions (dry-run, no on-chain execution) [RECOMMENDED FOR TESTING]
# SIM: Simulation mode for backtesting and strategy testing with real market data
MODE=DEV

# ========================================
# NETWORK RPC CONFIGURATION
# ========================================
# Premium RPC URLs for best performance (Alchemy, Infura, QuickNode recommended)
# Free public RPCs are NOT recommended for production use
#
# Get your API keys from:
# - Alchemy: https://alchemy.com/?r=your_referral_code
# - Infura: https://infura.io/
# - QuickNode: https://www.quicknode.com/
#
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_API_KEY
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
OPTIMISM_RPC_URL=https://mainnet.optimism.io
BASE_RPC_URL=https://mainnet.base.org
BSC_RPC_URL=https://bsc-dataseed.binance.org/

# WebSocket URLs for real-time mempool monitoring (optional but recommended)
POLYGON_WSS_URL=wss://polygon-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_API_KEY
ETHEREUM_WSS_URL=wss://mainnet.infura.io/ws/v3/YOUR_INFURA_API_KEY

# ========================================
# WALLET CONFIGURATION
# ========================================
# Private Key for transaction signing (WITHOUT 0x prefix)
# ⚠️  CRITICAL: Keep this secret! Never share or commit to version control!
# ⚠️  Required for LIVE mode, optional for DEV/SIM modes
PRIVATE_KEY=your_private_key_here_without_0x_prefix

# ========================================
# EXECUTION & SAFETY PARAMETERS
# ========================================
# Minimum profit threshold in USD to execute a trade
MIN_PROFIT_USD=5

# Maximum gas price willing to pay (in Gwei)
MAX_GAS_PRICE_GWEI=100

# Slippage tolerance in basis points (50 = 0.5%)
SLIPPAGE_BPS=50

# Flash loan range limits (percentage of pool liquidity)
# Minimum flash loan percentage (default: 5%)
MIN_FLASHLOAN_PERCENT=5

# Maximum flash loan percentage (default: 25%)
MAX_FLASHLOAN_PERCENT=25

# How often to scan for opportunities (in milliseconds)
SCAN_INTERVAL=60000

# ========================================
# RISK MANAGEMENT & SAFETY LIMITS
# ========================================
# Maximum daily loss allowed in USD (stops trading if exceeded)
MAX_DAILY_LOSS=50

# Maximum consecutive failures before pausing (prevents cascading failures)
MAX_CONSECUTIVE_FAILURES=5

# Minimum time between trades in milliseconds (prevents rate limiting)
MIN_TIME_BETWEEN_TRADES=30000

# ML Model Configuration
ML_CONFIDENCE_THRESHOLD=0.88
ENABLE_ML_FILTERING=true

# Paths to pre-trained ML models (relative to project root)
XGBOOST_MODEL_PATH=data/models/xgboost_model.json
ONNX_MODEL_PATH=data/models/onnx_model.onnx
LSTM_MODEL_PATH=data/models/lstm_model.onnx

# ========================================
# HYBRID AI ENGINE CONFIGURATION
# ========================================
# Enable live trading mode for AI engine (normally matches MODE above)
LIVE_TRADING=false

# Path to LSTM ONNX model
AI_MODEL_PATH=./data/models/lstm_omni.onnx
AI_THRESHOLD=0.88
AI_ENGINE_PORT=8001

# Rust Engine URL (for high-performance calculations)
RUST_ENGINE_URL=http://localhost:7000

# Dynamic Threshold Configuration
ENABLE_DYNAMIC_THRESHOLD=true
MIN_THRESHOLD=0.88
MAX_THRESHOLD=0.99
THRESHOLD_VOLATILITY_ADJUSTMENT=true

# BloXroute Configuration (optional - for MEV protection)
BLOXROUTE_AUTH_TOKEN=your_bloxroute_auth_token_here
BLOXROUTE_ACCOUNT_ID=your_bloxroute_account_id_here

# BloXroute Gateway URL
BLOXROUTE_GATEWAY_URL=https://api.blxrbdn.com

# Enable BloXroute integration for MEV protection
ENABLE_BLOXROUTE=false

# ========================================
# MERKLE TREE BATCH PROCESSING
# ========================================
# Smart contract address for batch processing (deploy your own or use existing)
BATCH_PROCESSOR_ADDRESS=0x0000000000000000000000000000000000000000

# Enable batch processing for gas optimization
ENABLE_BATCH_PROCESSING=false

# Minimum and maximum batch sizes
MIN_BATCH_SIZE=5
MAX_BATCH_SIZE=50

# ========================================
# REDIS CACHE CONFIGURATION
# ========================================
# Redis connection for AI engine caching and coordination
REDIS_HOST=127.0.0.1
REDIS_PORT=6379

# ========================================
# PROMETHEUS METRICS
# ========================================
# Port for Prometheus metrics endpoint
PROMETHEUS_PORT=9090

# ========================================
# MULTI-CHAIN & BRIDGE CONFIGURATION
# ========================================
# Enable cross-chain arbitrage opportunities
ENABLE_CROSS_CHAIN=false

# Enable LayerZero bridge integration
ENABLE_LAYER_ZERO_BRIDGE=false

# Enable Across Protocol bridge integration
ENABLE_ACROSS_BRIDGE=false

# ========================================
# MONITORING & ALERTS
# ========================================
# Telegram bot configuration for trade alerts and notifications
# Create a bot via @BotFather on Telegram to get your token
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# Enable Telegram alerts
ENABLE_TELEGRAM_ALERTS=false

# ========================================
# MEV PROTECTION & PRIVATE RELAYS
# ========================================
# Use private relay to protect against front-running
USE_PRIVATE_RELAY=false

# Flashbots relay URL (Ethereum mainnet)
FLASHBOTS_RELAY_URL=https://relay.flashbots.net

# Eden Network relay URL (alternative MEV protection)
EDEN_RELAY_URL=https://api.edennetwork.io/v1/rpc

# ========================================
# ADVANCED FEATURES
# ========================================
# Enable mempool monitoring for pre-execution detection
ENABLE_MEMPOOL_MONITORING=false

# Enable Micro Raptor Bots (multi-threaded scanning)
ENABLE_MICRO_RAPTOR_BOTS=true

# Number of parallel Raptor bot instances
RAPTOR_BOT_COUNT=4

# Enable Rust engine for high-performance calculations
RUST_ENGINE_ENABLED=true

# ========================================
# DATABASE CONFIGURATION
# ========================================
# SQLite database path for storing execution history and metrics
DB_PATH=data/apex.db

# ========================================
# LOGGING CONFIGURATION
# ========================================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Directory for log files
LOG_DIR=logs

# ========================================
# BLOCKCHAIN EXPLORER API KEYS (Optional)
# ========================================
# These are used for contract verification and additional data
# Not required for core functionality
POLYGONSCAN_API_KEY=your_polygonscan_api_key_here
COINGECKO_API_KEY=your_coingecko_api_key_here
MORALIS_API_KEY=your_moralis_api_key_here
BINANCE_API=https://api.binance.com/api/v3
ONEINCH_API=https://api.1inch.dev/swap/v5.2/137/quote
ONEINCH_APIKEY=your_oneinch_api_key_here
ZER0X_API=https://polygon.api.0x.org/swap/v1/price
PARASWAP_API=https://apiv5.paraswap.io/prices
